# ==============================================
# ProofChain Backend Environment Configuration
# ==============================================
# Copy this file to .env and update the values

# Server Configuration
PORT=3000
NODE_ENV=development

# MongoDB Configuration
# For local development, use MongoDB running on localhost
# For production, use MongoDB Atlas connection string
MONGODB_URI=mongodb://localhost:27017/proofchain

# Redis Configuration (Optional - can be disabled for development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
DISABLE_REDIS=true

# Blockchain Configuration (Updated for Localhost Development)
# Use localhost for development with Hardhat node
BLOCKCHAIN_RPC_URL=http://127.0.0.1:8545
# Contract address will be filled after deployment
CONTRACT_ADDRESS=
# Demo private key for testing (use Hardhat account private key)
DEMO_PRIVATE_KEY=

# JWT Configuration
# Generate a secure random string for production
JWT_SECRET=your_secure_jwt_secret_key_here
JWT_EXPIRATION=7d

# IPFS Configuration (Updated for Pinata Integration)
# Use Pinata cloud service for IPFS
IPFS_API_URL=https://api.pinata.cloud/pinning
IPFS_GATEWAY_URL=https://amaranth-genetic-bear-101.mypinata.cloud/ipfs/

# Pinata Authentication (Choose one method)
# Method 1: JWT Token (Recommended - from Pinata dashboard)
PINATA_JWT=your_pinata_jwt_token_here

# Method 2: API Key/Secret (Legacy - still supported)
IPFS_API_KEY=your_pinata_api_key_here
IPFS_API_SECRET=your_pinata_api_secret_here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ==============================================
# Setup Instructions:
# ==============================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Update CONTRACT_ADDRESS after deploying contracts
# 3. Get Pinata JWT from: https://app.pinata.cloud/keys
# 4. Update PINATA_JWT with your actual token
# 5. For MongoDB Atlas, update MONGODB_URI with your connection string
# 6. Generate a secure JWT_SECRET for production

# ==============================================
# Localhost Development Notes:
# ==============================================
# - BLOCKCHAIN_RPC_URL points to Hardhat node (port 8545)
# - CONTRACT_ADDRESS will be set after running deployment scripts
# - DEMO_PRIVATE_KEY can use Hardhat test account private key
# - DISABLE_REDIS=true for simple development setup
# - PINATA_JWT is required for IPFS content upload and pinning

# ==============================================
# Security Notes:
# ==============================================
# - Never commit .env file to version control
# - Use strong, unique JWT_SECRET in production
# - Keep Pinata JWT secure and rotate regularly
# - Use environment-specific MongoDB URIs
